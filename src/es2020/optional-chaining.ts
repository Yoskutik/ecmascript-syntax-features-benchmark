import { run } from '../helpers';

let obj: any;

run(
  50_000_000,
  function () {
    window.__testValue = obj
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
      ?.a?.a?.a?.a?.a?.a?.a?.a?.a?.a
  },
  function () {
    obj = {};

    let currentObj = obj;
    Array(300).fill(null).forEach(() => {
      currentObj.a = {};
      currentObj = obj.a;
    });
  }
);
